[gd_scene load_steps=6 format=3]

[ext_resource type="Script" path="res://scripts/game.gd" id="1"]
[ext_resource type="Script" path="res://scripts/player3d.gd" id="2"]
[ext_resource type="Script" path="res://scripts/npc.gd" id="3"]

[sub_resource type="StandardMaterial3D" id="1"]
albedo_color = Color(0.57, 0.82, 0.46, 1)

[sub_resource type="StandardMaterial3D" id="2"]
albedo_color = Color(0.82, 0.76, 0.58, 1)

[sub_resource type="Environment" id="3"]
background_mode = 1
ambient_light_color = Color(0.9, 0.9, 1, 1)
ambient_light_energy = 0.7

[node name="World" type="Node3D"]
script = ExtResource("1")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("3")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
light_energy = 1.2
rotation_degrees = Vector3(-45, 30, 0)

[node name="Ground" type="MeshInstance3D" parent="."]
mesh = PlaneMesh
surface_material_override/0 = SubResource("1")
scale = Vector3(40, 1, 40)

[node name="Hill" type="MeshInstance3D" parent="."]
mesh = SphereMesh
surface_material_override/0 = SubResource("2")
scale = Vector3(6, 2, 6)
position = Vector3(8, 1, -6)

[node name="Tree1" type="Node3D" parent="."]
position = Vector3(-6, 0, -5)
[node name="Trunk" type="MeshInstance3D" parent="Tree1"]
mesh = CylinderMesh
surface_material_override/0 = SubResource("2")
scale = Vector3(0.3, 1.3, 0.3)
[node name="Leaves" type="MeshInstance3D" parent="Tree1"]
mesh = SphereMesh
surface_material_override/0 = SubResource("1")
position = Vector3(0, 1.6, 0)
scale = Vector3(1.2, 1, 1.2)

[node name="Tree2" type="Node3D" parent="."]
position = Vector3(5, 0, 7)
[node name="Trunk" type="MeshInstance3D" parent="Tree2"]
mesh = CylinderMesh
surface_material_override/0 = SubResource("2")
scale = Vector3(0.3, 1.3, 0.3)
[node name="Leaves" type="MeshInstance3D" parent="Tree2"]
mesh = CapsuleMesh
surface_material_override/0 = SubResource("1")
position = Vector3(0, 1.6, 0)
scale = Vector3(1, 1.1, 1)

[node name="House" type="Node3D" parent="."]
position = Vector3(-3, 0, 6)
[node name="Body" type="MeshInstance3D" parent="House"]
mesh = BoxMesh
surface_material_override/0 = SubResource("2")
scale = Vector3(2, 1.5, 2)
[node name="Roof" type="MeshInstance3D" parent="House"]
mesh = PrismMesh
position = Vector3(0, 1.6, 0)
scale = Vector3(2.2, 1.0, 2.2)

[node name="Farmer" type="Area3D" parent="."]
script = ExtResource("3")
position = Vector3(0, 0, 2)
[node name="Mesh" type="MeshInstance3D" parent="Farmer"]
mesh = CapsuleMesh
[node name="Label3D" type="Label3D" parent="Farmer"]
position = Vector3(0, 2.2, 0)
text = "Granjero"
billboard = 1

[node name="Chicken" type="Area3D" parent="."]
script = ExtResource("3")
position = Vector3(4, 0, -3)
[node name="Mesh" type="MeshInstance3D" parent="Chicken"]
mesh = SphereMesh
scale = Vector3(0.6, 0.6, 0.6)
[node name="Label3D" type="Label3D" parent="Chicken"]
position = Vector3(0, 1.6, 0)
text = "Gallina"
billboard = 1

[node name="Bunny" type="Area3D" parent="."]
script = ExtResource("3")
position = Vector3(-5, 0, -2)
[node name="Mesh" type="MeshInstance3D" parent="Bunny"]
mesh = SphereMesh
scale = Vector3(0.5, 0.5, 0.7)
[node name="Label3D" type="Label3D" parent="Bunny"]
position = Vector3(0, 1.3, 0)
text = "Conejo"
billboard = 1

[node name="Player" type="CharacterBody3D" parent="."]
script = ExtResource("2")
position = Vector3(0, 1, 0)

[node name="CameraHolder" type="Node3D" parent="Player"]
position = Vector3(0, 1.6, 0)
[node name="Camera3D" type="Camera3D" parent="Player/CameraHolder"]
current = true
position = Vector3(0, 1.6, 5)
rotation_degrees = Vector3(0, 180, 0)

[node name="CanvasLayer" type="CanvasLayer" parent="."]
[node name="Dialog" type="Label" parent="CanvasLayer"]
offset_left = 16.0
offset_top = 16.0
offset_right = 900.0
offset_bottom = 60.0
theme_override_font_sizes/font_size = 22
text = "Bienvenido."
[node name="Mission" type="Label" parent="CanvasLayer"]
offset_left = 16.0
offset_top = 60.0
offset_right = 900.0
offset_bottom = 100.0
theme_override_font_sizes/font_size = 20
text = "Misión: —"